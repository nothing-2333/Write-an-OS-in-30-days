     1                                  org 0x7c00
     2                                  
     3                                  ; 标准FAT12格式软盘专用代码
     4 00000000 EB4E                    jmp entry
     5 00000002 90                      DB    0x90              ; NOP指令
     6 00000003 48454C4C4F49504C        DB    "HELLOIPL"        ; OEM标识符（8字节）
     7 0000000B 0002                    DW    512               ; 每个扇区（sector）的字节数（必须为512字节）
     8 0000000D 01                      DB    1                 ; 每个簇（cluster）的扇区数（必须为1个扇区）
     9 0000000E 0100                    DW    1                 ; FAT的预留扇区数（包含boot扇区）
    10 00000010 02                      DB    2                 ; FAT表的数量，通常为2
    11 00000011 E000                    DW    224               ; 根目录文件的最大值（一般设为224项）
    12 00000013 400B                    DW    2880              ; 磁盘的扇区总数，若为0则代表超过65535个扇区，需要使用19行记录
    13 00000015 F0                      DB    0xf0              ; 磁盘的种类（本项目中设为0xf0代表1.44MB的软盘）
    14 00000016 0900                    DW    9                 ; 每个FAT的长度（必须为9扇区）
    15 00000018 1200                    DW    18                ; 1个磁道（track）拥有的扇区数（必须是18）
    16 0000001A 0200                    DW    2                 ; 磁头数（必须为2）
    17 0000001C 00000000                DD    0                 ; 隐藏的扇区数
    18 00000020 400B0000                DD    2880              ; 大容量扇区总数，若13行记录的值为0则使用本行记录扇区数
    19 00000024 00                      DB    0                 ; 中断0x13的设备号
    20 00000025 00                      DB    0                 ; Windows NT标识符
    21 00000026 29                      DB    0x29              ; 扩展引导标识
    22 00000027 FFFFFFFF                DD    0xffffffff        ; 卷序列号
    23 0000002B 48454C4C4F2D4F5320-     DB    "HELLO-OS   "     ; 卷标（11字节）
    23 00000034 2020               
    24 00000036 4641543132202020        DB    "FAT12   "        ; 文件系统类型（8字节）
    25                                  
    26                                  ; 引导代码、数据以及其它信息
    27 0000003E <res 12h>               RESB  18                ; 空18字节
    27          ******************       warning: uninitialized space declared in .text section: zeroing [-w+zeroing]
    28                                  
    29                                  
    30                                  ; 程序主体
    31                                  entry:
    32                                      ; 初始化寄存器
    33 00000050 B80000                      mov ax, 0
    34 00000053 8ED0                        mov ss, ax
    35 00000055 BC007C                      mov sp, 0x7c00
    36 00000058 8ED8                        mov ds, ax
    37 0000005A 8EC0                        mov es, ax
    38                                  
    39 0000005C BE[7400]                    mov si, msg
    40                                  
    41                                  putloop:
    42 0000005F 8A04                        mov al, [si]
    43 00000061 83C601                      add si, 1
    44 00000064 3C00                        cmp al, 0
    45                                  
    46 00000066 7409                        je fin
    47 00000068 B40E                        mov ah, 0x0e    ; 显示一个文字
    48 0000006A BB0F00                      mov bx, 15      ; 指定字符颜色
    49 0000006D CD10                        int 0x10        ; 调用显卡BIOS 
    50 0000006F EBEE                        jmp putloop
    51                                  
    52                                  fin: 
    53                                      ; 结束
    54 00000071 F4                          hlt             ; 让CPU停止，等待指令
    55 00000072 EBFD                        jmp fin
    56                                  
    57                                  msg:
    58 00000074 0A0A                        db 0x0a, 0x0a   ; 换行2次
    59 00000076 68656C6C6F2C20776F-         db "hello, world"
    59 0000007F 726C64             
    60 00000082 0A                          db 0x0a
    61 00000083 00                          db 0
    62                                  
    63 00000084 00<rep 17Ah>            times  0x1fe - ($ - $$) db 0
    64 000001FE 55AA                    DB    0x55, 0xaa
